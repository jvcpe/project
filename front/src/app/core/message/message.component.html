<div class="card mb-3">
  <div class="card-header">
    <nav class="navbar">
      <p>Posted by {{message.createdBy}} on {{message.createdDate | date:"MM/dd/yyyy 'at' h:mma"}}</p>
      <form *ngIf='canModify' class="form-inline my-2 my-lg-0">
        <button class="btn btn-light" (click)="onDelete()">
          <i class="material-icons">delete</i>
        </button>
        <button class="btn btn-light" (click)="toggleModification()">
          <i class="material-icons">build</i>
        </button>
      </form>
    </nav>
  </div>
  <div class="card-body">
    <span *ngIf="!modification" class="line-breaker" [innerHTML]="message.content | newline"></span>
    <form *ngIf="modification" [formGroup]="modificationForm" class="form">
      <textarea formControlName="modificationMessage" class="form-control form-group" type="text" rows="3" [innerHTML]="message.content"></textarea>
      <div *ngIf="submitted && f.modificationMessage.errors" class="invalid-feedback">
          <div *ngIf="f.modificationMessage.errors.required">A message is required</div>
      </div>
      <div class="form-group">
        <button class="btn2 btn btn-outline-warning" (click)="onModification()">
          Modify
        </button>
        <button class="btn2 btn btn-outline-secondary" (click)="toggleModification()">
          Cancel
        </button>
      </div>
    </form>
  </div>
</div>
